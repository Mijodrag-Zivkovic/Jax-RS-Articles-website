(function(t){function e(e){for(var a,s,o=e[0],u=e[1],c=e[2],l=0,f=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var u=r[s];0!==n[u]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},i=[];function s(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c1e7533c"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],r=n[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,a){r=n[t]=[e,a]}));e.push(r[2]=a);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=s(t);var c=new Error;i=function(e){u.onerror=u.onload=null,clearTimeout(l);var r=n[t];if(0!==r){if(r){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,r[1](c)}n[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"01d7":function(t,e,r){"use strict";r("0f5c")},"0f5c":function(t,e,r){},4805:function(t,e,r){"use strict";r("8ce0")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("4de4"),r("d3b7"),r("25f0"),r("fb6a"),r("ac1f"),r("1276"),r("5319"),r("a15b"),r("d81d");var a=r("2b0e"),n=r("bc3a"),i=r.n(n),s=(r("3ca3"),r("ddb0"),r("8c4f")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[a("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},u=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("h1",[t._v(t._s(t.msg))]),t._m(0),r("h3",[t._v("Installed CLI Plugins")]),t._m(1),r("h3",[t._v("Essential Links")]),t._m(2),r("h3",[t._v("Ecosystem")]),t._m(3)])},l=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),r("br"),t._v(" check out the "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],d={name:"HelloWorld",props:{msg:String}},f=d,m=(r("4805"),r("2877")),p=Object(m["a"])(f,c,l,!1,null,"b9167eee",null),h=p.exports,v={name:"Home",components:{HelloWorld:h}},g=v,b=(r("01d7"),Object(m["a"])(g,o,u,!1,null,"27b0aea6",null)),_=b.exports,y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"categories",staticClass:"categories"},[r("h1",[t._v("Categories")]),t._l(t.categories,(function(t){return r("div",{key:t.id},[r("Category",{attrs:{category:t}})],1)})),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.addNew(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("New Category")])])],2)},$=[],x=r("1da1"),C=(r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.category.id},[r("h2",{on:{click:t.visitArticles}},[t._v(" "+t._s(t.category.name)+" ")]),r("p",[t._v(" "+t._s(t.category.description)+" "),r("br"),r("br")]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Edit")])]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.deleteCategory(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Delete")])]),r("hr")])}),j=[],I={name:"Category",props:{category:{type:Object,required:!0}},data:function(){return{articles:[]}},methods:{edit:function(){console.log(this.category.id),this.$router.push({name:"CategoryEdit",query:{id:this.category.id}})},deleteCategory:function(){var t=this;this.$axios.get("/api/articles/categoryId",{params:{id:this.category.id}}).then((function(e){t.articles=e.data})).then((function(){0==t.articles.length&&(t.$axios.delete("/api/categories/"+t.category.id),t.$refs[t.category.id].remove())}))},visitArticles:function(){this.$router.push("/articles/categoryId/"+this.category.id)}}},w=I,O=Object(m["a"])(w,C,j,!1,null,"07e9d3c5",null),A=O.exports,E={components:{Category:A},filters:{shortText:function(t){return t.length<30?t:t.slice(0,30)+"..."}},data:function(){return{selectedCategory:null,categories:[]}},mounted:function(){var t=this;this.$axios.get("/api/categories").then((function(e){t.categories=e.data}))},beforeRouteEnter:function(t,e,r){r((function(t){t.fetch()}))},methods:{addNew:function(){this.$router.push({name:"CategoryAdd"})},fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$axios.get("/api/categories").then((function(e){t.categories=e.data}));case 1:case"end":return e.stop()}}),e)})))()}}},k=E,T=Object(m["a"])(k,y,$,!1,null,"e930a3b6",null),S=T.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.category.id},[r("input",{ref:"nameInput",attrs:{type:"text"},domProps:{value:t.category.name}}),r("br"),r("input",{ref:"descriptionInput",attrs:{type:"text"},domProps:{value:t.category.description}}),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.confirm(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Confirm")])]),r("hr")])},D=[],R={name:"CategoryEdit",data:function(){return{category:{}}},created:function(){var t=this;this.$axios.get("/api/categories/category",{params:{id:this.$route.query.id}}).then((function(e){t.category=e.data}))},methods:{confirm:function(){var t=this;this.$axios.put("/api/categories/"+this.category.id,{name:this.$refs.nameInput.value,description:this.$refs.descriptionInput.value}).then((function(e){console.log(e.status),200==e.status&&t.$router.push({name:"Categories"})}))}}},U=R,P=Object(m["a"])(U,q,D,!1,null,"4cf97c7e",null),L=P.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("label",{attrs:{for:"name"}},[t._v("Name")]),r("br"),r("input",{ref:"nameInput",attrs:{id:"name",type:"text"}}),r("br"),r("label",{attrs:{for:"desc"}},[t._v("Description")]),r("br"),r("input",{ref:"descriptionInput",attrs:{id:"desc",type:"text"}}),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.addNewCategory(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Confirm")])]),r("hr")])},W=[],B={name:"CategoryAdd",methods:{addNewCategory:function(){this.$axios.post("api/categories",{name:this.$refs.nameInput.value,description:this.$refs.descriptionInput.value}),this.$router.push({name:"Categories"})}}},H=B,V=Object(m["a"])(H,N,W,!1,null,"294704a4",null),J=V.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"articles",staticClass:"articles"},[r("h1",[t._v("Articles")]),t._l(t.articles,(function(t){return r("div",{key:t.id},[r("Article",{attrs:{article:t}})],1)})),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.addNew(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("New Article")])])],2)},z=[],F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.article.id},[r("h2",{on:{click:t.visitArticle}},[t._v(" "+t._s(t.article.title)+" ")]),r("p",[t._v(" "+t._s(t.article.content)+" "),r("br"),t._v(" "+t._s(t.article.timeOfWriting)),r("br"),t._v(" "+t._s(t.article.numberOfVisits)),r("br"),t._v(" "+t._s(t.article.authorId)),r("br"),t._v(" "+t._s(t.article.categoryId)),r("br")]),t.globalIfLoggedIn()?r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Edit")])]):t._e(),t.globalIfLoggedIn()?r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.deleteArticle(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Delete")])]):t._e(),r("hr")])},Y=[],G={name:"Article",props:{article:{type:Object,required:!0}},methods:{edit:function(){console.log(this.article.id),this.$router.push({name:"ArticleEdit",query:{id:this.article.id}})},deleteArticle:function(){this.$axios.delete("/api/articles/"+this.article.id),this.$refs[this.article.id].remove()},visitArticle:function(){this.$router.push({name:"ArticleSingle",query:{id:this.article.id}})}}},K=G,Q=Object(m["a"])(K,F,Y,!1,null,"b9422b06",null),X=Q.exports,Z={name:"Articles",components:{Article:X},data:function(){return{articles:[]}},mounted:function(){var t=this;this.$axios.get("/api/articles").then((function(e){t.articles=e.data})).then((function(){t.articles.sort((function(t,e){return t.timeOfWriting<e.timeOfWriting?1:e.timeOfWriting<t.timeOfWriting?-1:0}))}))},beforeRouteEnter:function(t,e,r){r((function(t){t.fetch()}))},methods:{addNew:function(){this.$router.push({name:"ArticleAdd"})},fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$axios.get("/api/articles").then((function(e){t.articles=e.data})).then((function(){t.articles.sort((function(t,e){return t.timeOfWriting<e.timeOfWriting?1:e.timeOfWriting<t.timeOfWriting?-1:0}))}));case 1:case"end":return e.stop()}}),e)})))()}}},tt=Z,et=Object(m["a"])(tt,M,z,!1,null,"611ca645",null),rt=et.exports,at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v(t._s(this.category.name))]),t._v(" "+t._s(this.$route.params.id)+" "),t._l(t.articles,(function(t){return r("div",{key:t.id},[r("Article",{attrs:{article:t}})],1)}))],2)},nt=[],it={name:"ArticlesByCategory",components:{Article:X},data:function(){return{articles:[],category:{}}},created:function(){var t=this;this.$axios.get("/api/categories/category",{params:{id:this.$route.params.id}}).then((function(e){t.category=e.data})),this.$axios.get("/api/articles/categoryId",{params:{id:this.$route.params.id}}).then((function(e){t.articles=e.data}))}},st=it,ot=Object(m["a"])(st,at,nt,!1,null,"6bad77b5",null),ut=ot.exports,ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("label",{attrs:{for:"title"}},[t._v("Title")]),r("br"),r("input",{ref:"title",attrs:{id:"title",type:"text"}}),r("br"),r("label",{attrs:{for:"content"}},[t._v("Content")]),r("br"),r("input",{ref:"content",attrs:{id:"content",type:"text"}}),r("br"),r("select",{ref:"category"},t._l(t.categories,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),0),r("br"),r("input",{ref:"tagAdd",attrs:{type:"text"}}),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.addTag(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Add Tag")])]),t._l(t.tags,(function(t){return r("div",{key:t.id},[r("TagSmarter",{attrs:{tag:t}})],1)})),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.confirm(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Confirm")])]),r("hr")],2)},lt=[],dt=r("b85c"),ft=(r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.tag.id},[r("div",[t._v(" "+t._s(this.tag.name)+" ")]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.deleteTag(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Delete")])])])}),mt=[],pt=(r("a434"),{name:"TagSmarter",props:{tag:{type:Object,required:!0}},methods:{deleteTag:function(){console.log(this.$parent.tags.indexOf(this.tag)),this.$parent.tags.splice(this.$parent.tags.indexOf(this.tag),1)}}}),ht=pt,vt=Object(m["a"])(ht,ft,mt,!1,null,"5c5793a7",null),gt=vt.exports,bt={name:"ArticleAdd",components:{TagSmarter:gt},data:function(){return{categories:[],tags:[]}},created:function(){var t=this;this.$axios.get("api/categories").then((function(e){t.categories=e.data}))},methods:{confirm:function(){var t=this;this.$axios.post("/api/articles",{title:this.$refs.title.value,content:this.$refs.content.value,timeOfWriting:null,numberOfVisits:0,authorId:1,categoryId:this.$refs.category.value}).then((function(e){if(null!==e.data.id){console.log(e.data.id);var r,a=Object(dt["a"])(t.tags);try{for(a.s();!(r=a.n()).done;){var n=r.value;console.log(n.name),t.$axios.post("/api/tags/articleId",{articleId:e.data.id,tagId:n.id}).then((function(){}))}}catch(i){a.e(i)}finally{a.f()}t.$router.push({name:"Articles"})}}))},addTag:function(){var t=this;this.$axios.get("/api/tags/tag",{params:{name:this.$refs.tagAdd.value}}).then((function(e){void 0!==e.data.name&&t.tags.push(e.data)}))}}},_t=bt,yt=Object(m["a"])(_t,ct,lt,!1,null,"41042822",null),$t=yt.exports,xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.article.id},[r("h2",[t._v(" "+t._s(t.article.title)+" ")]),r("p",[t._v(" "+t._s(t.article.content)+" "),r("br"),t._v(" "+t._s(t.article.timeOfWriting)),r("br"),t._v(" "+t._s(t.article.numberOfVisits)),r("br"),t._v(" "+t._s(t.article.authorId)),r("br")]),r("div",{on:{click:t.visitCategory}},[t._v(" "+t._s(t.category.name)),r("br")]),t._l(t.tags,(function(t){return r("div",{key:t.id},[r("Tag",{attrs:{tag:t}})],1)})),r("hr"),r("h4",[t._v("Add your comment:")]),r("input",{ref:"name",attrs:{type:"text",placeholder:"Your name"}}),r("br"),r("input",{ref:"content",attrs:{type:"text",placeholder:"Your comment"}}),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Confirm")])]),r("hr"),r("h4",[t._v("Comments:")]),r("br"),t._l(t.comments,(function(t){return r("div",{key:t.id,ref:"comments",refInFor:!0,attrs:{id:"commentsId"}},[r("Comment",{attrs:{comment:t}})],1)})),r("div",{attrs:{id:"id2"}})],2)},Ct=[],jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v(" "+t._s(t.comment.name)),r("br"),t._v(" "+t._s(t.comment.content)),r("br"),t._v(" "+t._s(t.comment.dateTime)),r("br"),r("hr")])},It=[],wt={name:"Comment",props:{comment:{type:Object,required:!0}}},Ot=wt,At=Object(m["a"])(Ot,jt,It,!1,null,"5c8822aa",null),Et=At.exports,kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.tag.id},[r("div",{on:{click:t.articlesByTag}},[t._v(" "+t._s(this.tag.name)+" ")]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.deleteTag(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Delete")])])])},Tt=[],St=(r("a9e3"),{name:"Tag",props:{tag:{type:Object,required:!0},articleId:{type:Number,required:!0}},methods:{deleteTag:function(){var t=this;this.$axios.delete("/api/tags/articleId",{params:{articleId:this.articleId,tagId:this.tag.id}}).then((function(){t.$refs[t.tag.id].remove(),console.log(t.$parent.tags.indexOf(t.tag)),t.$parent.tags.splice(t.$parent.tags.indexOf(t.tag),1)}))},articlesByTag:function(){this.$router.push("/articles/tagId/"+this.tag.id)}}}),qt=St,Dt=Object(m["a"])(qt,kt,Tt,!1,null,"6884f924",null),Rt=Dt.exports,Ut={name:"ArticleSingle",components:{Comment:Et,Tag:Rt},data:function(){return{article:{},category:{},comments:[],tags:[]}},created:function(){var t=this;this.$axios.get("/api/articles/article",{params:{id:this.$route.query.id}}).then((function(e){t.article=e.data})).then((function(){t.$axios.get("/api/categories/category",{params:{id:t.article.categoryId}}).then((function(e){t.category=e.data})),t.$axios.get("/api/comments/articleId",{params:{id:t.article.id}}).then((function(e){t.comments=e.data})),t.$axios.get("/api/tags/articleId",{params:{id:t.article.id}}).then((function(e){t.tags=e.data}))}))},methods:{visitCategory:function(){this.$router.push("/articles/categoryId/"+this.category.id)},addComment:function(){var t=this;this.$axios.post("/api/comments",{name:this.$refs.name.value,content:this.$refs.content.value,dateTime:null,articleId:this.article.id}).then((function(e){if(200==e.status){t.comments.add(e.data);var r=document.createElement("div");r.appendChild(document.createTextNode(e.data.name)),r.appendChild(document.createElement("br")),r.appendChild(document.createTextNode(e.data.content)),r.appendChild(document.createElement("br")),r.appendChild(document.createTextNode(e.data.dateTime)),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("hr"));var a=document.getElementById("id2");a.appendChild(r)}}))}}},Pt=Ut,Lt=Object(m["a"])(Pt,xt,Ct,!1,null,"1ac23ab0",null),Nt=Lt.exports,Wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.article.id},[r("input",{ref:"title",attrs:{type:"text"},domProps:{value:t.article.title}}),r("br"),r("input",{ref:"content",attrs:{type:"text"},domProps:{value:t.article.content}}),r("br"),r("select",{ref:"category"},t._l(t.categories,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),0),r("br"),r("input",{ref:"tagAdd",attrs:{type:"text"}}),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.addTag(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Add Tag")])]),t._l(t.tags,(function(e){return r("div",{key:e.id},[r("Tag",{attrs:{tag:e,articleId:t.article.id}})],1)})),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.confirm(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Confirm")])]),r("hr")],2)},Bt=[],Ht={name:"ArticleEdit",components:{Tag:Rt},data:function(){return{article:{},categories:[],tags:[]}},created:function(){var t=this;this.$axios.get("/api/articles/article",{params:{id:this.$route.query.id}}).then((function(e){t.article=e.data})).then((function(){t.$axios.get("/api/categories").then((function(e){t.categories=e.data})),t.$axios.get("/api/tags/articleId",{params:{id:t.article.id}}).then((function(e){t.tags=e.data}))}))},methods:{confirm:function(){var t=this;this.$axios.put("/api/articles/"+this.article.id,{title:this.$refs.title.value,content:this.$refs.content.value,timeOfWriting:null,numberOfVisits:this.article.numberOfVisits,authorId:this.article.authorId,categoryId:this.$refs.category.value}).then((function(e){200==e.status&&t.$router.push({name:"Articles"})}))},addTag:function(){var t=this;this.$axios.get("/api/tags/tag",{params:{name:this.$refs.tagAdd.value}}).then((function(e){t.$axios.post("/api/tags/articleId",{articleId:t.article.id,tagId:e.data.id}).then((function(){t.tags.push(e.data)}))}))}}},Vt=Ht,Jt=Object(m["a"])(Vt,Wt,Bt,!1,null,"19dadcac",null),Mt=Jt.exports,zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v(t._s(this.tag.name))]),t._v(" "+t._s(this.$route.params.id)+" "),t._l(t.articles,(function(t){return r("div",{key:t.id},[r("Article",{attrs:{article:t}})],1)}))],2)},Ft=[],Yt={name:"ArticlesByTag",components:{Article:X},data:function(){return{articles:[],tag:{}}},created:function(){var t=this;this.$axios.get("/api/tags/tag",{params:{id:this.$route.params.id}}).then((function(e){t.tag=e.data})),this.$axios.get("/api/articles/tagId",{params:{id:this.$route.params.id}}).then((function(e){t.articles=e.data}))}},Gt=Yt,Kt=Object(m["a"])(Gt,zt,Ft,!1,null,"61bc1238",null),Qt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"users",staticClass:"users"},[r("h1",[t._v("Users")]),t._l(t.users,(function(t){return r("div",{key:t.id},[r("User",{attrs:{user:t}})],1)})),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.addNew(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("New User")])])],2)},Zt=[],te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.user.id},[r("h2",{on:{click:t.visitUser}},[t._v(" "+t._s(t.user.email)+" ")]),r("p",[t._v(" "+t._s(t.user.name)+" "),r("br")]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Edit")])]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.deleteUser(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Delete")])]),r("hr")])},ee=[],re={name:"User",props:{user:{type:Object,required:!0}},methods:{edit:function(){this.$router.push({name:"UserEdit",query:{id:this.user.id}})},deleteUser:function(){this.$axios.delete("/api/users/"+this.user.id),this.$refs[this.user.id].remove(),this.$parent.users.splice(this.$parent.users.indexOf(this.user),1)},visitUser:function(){this.$router.push({name:"UserSingle",query:{id:this.user.id}})}}},ae=re,ne=Object(m["a"])(ae,te,ee,!1,null,"31169bc8",null),ie=ne.exports,se={name:"Users",components:{User:ie},data:function(){return{users:[]}},mounted:function(){var t=this;this.$axios.get("/api/users").then((function(e){t.users=e.data})).then((function(){}))},beforeRouteEnter:function(t,e,r){r((function(t){t.fetch()}))},methods:{addNew:function(){this.$router.push({name:"UserAdd"})},fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$axios.get("/api/users").then((function(e){t.users=e.data})).then((function(){}));case 1:case"end":return e.stop()}}),e)})))()}}},oe=se,ue=Object(m["a"])(oe,Xt,Zt,!1,null,"ab1150cc",null),ce=ue.exports,le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:this.user.id},[r("input",{ref:"email",attrs:{type:"text"},domProps:{value:t.user.email}}),r("br"),r("input",{ref:"password",attrs:{type:"text"}}),r("br"),r("input",{ref:"passwordConfirm",attrs:{type:"text"}}),r("br"),r("input",{ref:"name",attrs:{type:"text"},domProps:{value:t.user.name}}),r("br"),r("input",{ref:"surname",attrs:{type:"text"},domProps:{value:t.user.surname}}),r("br"),r("select",{ref:"type"},[r("option",{attrs:{value:"admin"}},[t._v("Admin")]),r("option",{attrs:{value:"regular"}},[t._v("Regular")])]),r("br"),r("select",{ref:"status"},[r("option",{attrs:{value:"active"}},[t._v("Active")]),r("option",{attrs:{value:"inactive"}},[t._v("Inactive")])]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.confirm(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Confirm")])]),r("hr")])},de=[],fe={name:"UserEdit",data:function(){return{user:{}}},created:function(){var t=this;this.$axios.get("/api/users/user",{params:{id:this.$route.query.id}}).then((function(e){t.user=e.data}))},methods:{confirm:function(){var t=this;this.$refs.password.value===this.$refs.passwordConfirm.value&&""!==this.$refs.password.value&&(console.log("okej su"),this.$axios.put("/api/users/"+this.user.id,{email:this.$refs.email.value,password:this.$refs.password.value,name:this.$refs.name.value,surname:this.$refs.surname.value,userType:this.$refs.type.value,status:this.$refs.status.value}).then((function(e){200==e.status&&t.$router.push({name:"Users"})})))}}},me=fe,pe=Object(m["a"])(me,le,de,!1,null,"76f66ac3",null),he=pe.exports,ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{ref:"email",attrs:{type:"text"}}),r("br"),r("input",{ref:"password",attrs:{type:"text"}}),r("br"),r("input",{ref:"passwordConfirm",attrs:{type:"text"}}),r("br"),r("input",{ref:"name",attrs:{type:"text"}}),r("br"),r("input",{ref:"surname",attrs:{type:"text"}}),r("br"),r("select",{ref:"type"},[r("option",{attrs:{value:"admin"}},[t._v("Admin")]),r("option",{attrs:{value:"regular"}},[t._v("Regular")])]),r("br"),r("select",{ref:"status"},[r("option",{attrs:{value:"active"}},[t._v("Active")]),r("option",{attrs:{value:"inactive"}},[t._v("Inactive")])]),r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.confirm(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("Confirm")])]),r("hr")])},ge=[],be={name:"UserAdd",data:function(){return{user:{}}},methods:{confirm:function(){var t=this;this.$refs.password.value===this.$refs.passwordConfirm.value&&""!==this.$refs.password.value&&(console.log("okej su"),this.$axios.post("/api/users",{email:this.$refs.email.value,password:this.$refs.password.value,name:this.$refs.name.value,surname:this.$refs.surname.value,userType:this.$refs.type.value,status:this.$refs.status.value}).then((function(e){200==e.status&&t.$router.push({name:"Users"})})))}}},_e=be,ye=Object(m["a"])(_e,ve,ge,!1,null,"6c6d8862",null),$e=ye.exports,xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v(" "+t._s(t.user.email)+" ")]),r("p",[t._v(" "+t._s(t.user.name)+" "),r("br"),t._v(" "+t._s(t.user.surname)+" "),r("br"),t._v(" "+t._s(t.user.userType)+" "),r("br"),t._v(" "+t._s(t.user.status)+" "),r("br")]),r("hr")])},Ce=[],je={name:"UserSingle",data:function(){return{user:{}}},mounted:function(){var t=this;this.$axios.get("/api/users/user",{params:{id:this.$route.query.id}}).then((function(e){t.user=e.data}))}},Ie=je,we=Object(m["a"])(Ie,xe,Ce,!1,null,"53af1902",null),Oe=we.exports;a["default"].use(s["a"]);var Ae=[{path:"/",name:"Home",component:_},{path:"/categories",name:"Categories",component:S},{path:"/categories/category",name:"CategoryEdit",component:L,meta:{authRequired:!0}},{path:"/categories",name:"CategoryAdd",component:J,meta:{authRequired:!0}},{path:"/articles",name:"Articles",component:rt},{path:"/articles/addArticle",name:"ArticleAdd",component:$t,meta:{authRequired:!0}},{path:"/articles/article",name:"ArticleEdit",component:Mt,meta:{authRequired:!0}},{path:"/articles/articleSingle",name:"ArticleSingle",component:Nt},{path:"/articles/categoryId/:id",name:"ArticlesByCategory",component:ut},{path:"/articles/tagId/:id",name:"ArticlesByTag",component:Qt},{path:"/users",name:"Users",component:ce,meta:{authRequired:!0}},{path:"/users/user/edit",name:"UserEdit",component:he,meta:{authRequired:!0}},{path:"/users/user/add",name:"UserAdd",component:$e,meta:{authRequired:!0}},{path:"/users/userSingle",name:"UserSingle",component:Oe,meta:{authRequired:!0}},{path:"/subjects",name:"Subjects",meta:{authRequired:!0},component:function(){return r.e("about").then(r.bind(null,"c9a4"))}},{path:"/subjects/:id",name:"single-subject",meta:{authRequired:!0},component:function(){return r.e("about").then(r.bind(null,"ed05"))}},{path:"/login",name:"Login",component:function(){return r.e("about").then(r.bind(null,"a55b"))}}],Ee=new s["a"]({routes:Ae});Ee.beforeEach((function(t,e,r){if(t.meta.authRequired){var a=localStorage.getItem("jwt");if(!a)return void r({name:"Login"});var n=JSON.parse(atob(a.split(".")[1])),i=new Date(1e3*n.exp),s=n.status;if(i<new Date||"active"!==s)return void r({name:"Login"})}r()}));var ke=Ee,Te={baseURL:"http://localhost:8081"},Se=i.a.create(Te);Se.interceptors.request.use((function(t){var e=localStorage.getItem("jwt");return t.headers.Authorization="Bearer ".concat(e),t}),(function(t){return Promise.reject(t)})),Se.interceptors.response.use((function(t){return t}),(function(t){return t&&t.response&&401===t.response.status&&ke.push({name:"Login"}),Promise.reject(t)})),Plugin.install=function(t,e){t.axios=Se,window.axios=Se,Object.defineProperties(t.prototype,{axios:{get:function(){return Se}},$axios:{get:function(){return Se}}})},a["default"].use(Plugin);Plugin;var qe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Navbar"),r("div",{staticClass:"container"},[r("router-view")],1)],1)},De=[],Re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[r("div",{staticClass:"container-fluid"},[r("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Some site name")]),t._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[r("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",class:{active:"Home"===this.$router.currentRoute.name},attrs:{to:"/",tag:"a"}},[t._v("Home")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",class:{active:"Categories"===this.$router.currentRoute.name},attrs:{to:{name:"Categories"},tag:"a"}},[t._v("Categories")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",class:{active:"Articles"===this.$router.currentRoute.name},attrs:{to:{name:"Articles"},tag:"a"}},[t._v("Articles")])],1),r("li",{staticClass:"nav-item"},[t.globalIfLoggedIn()&&t.globalIfAdminLoggedIn()?r("router-link",{staticClass:"nav-link",class:{active:"Users"===this.$router.currentRoute.name},attrs:{to:{name:"Users"},tag:"a"}},[t._v("Users")]):t._e()],1)]),t.canLogout?r("form",{staticClass:"d-flex",on:{submit:function(e){return e.preventDefault(),t.logout(e)}}},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v(t._s(t.ifLogged()))])]):t._e()])])])])},Ue=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}],Pe={name:"Navbar",computed:{canLogout:function(){return"Login"!==this.$route.name}},methods:{logout:function(){localStorage.removeItem("jwt"),this.$router.push({name:"Login"})},ifLogged:function(){return localStorage.getItem("jwt")?"Log out":"Log in"},ifLoggedIn:function(){return!!localStorage.getItem("jwt")}}},Le=Pe,Ne=Object(m["a"])(Le,Re,Ue,!1,null,"7136484a",null),We=Ne.exports,Be={components:{Navbar:We}},He=Be,Ve=Object(m["a"])(He,qe,De,!1,null,null,null),Je=Ve.exports,Me=r("5f5b"),ze=r("b1e0");r("f9e3"),r("2dd8");a["default"].use(Me["a"]),a["default"].use(ze["a"]),a["default"].config.productionTip=!1,a["default"].filter("capitalize",(function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""})),a["default"].mixin({methods:{globalIfLoggedIn:function(){if(localStorage.getItem("jwt")){var t=localStorage.getItem("jwt"),e=t.split(".")[1],r=e.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")),n=JSON.parse(a);return"active"==n.status}return!1},globalIfAdminLoggedIn:function(){if(localStorage.getItem("jwt")){var t=localStorage.getItem("jwt"),e=t.split(".")[1],r=e.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")),n=JSON.parse(a);return console.log(n),console.log(n.userType),"admin"==n.userType}return!1}}}),new a["default"]({router:ke,render:function(t){return t(Je)}}).$mount("#app")},"8ce0":function(t,e,r){},cf05:function(t,e,r){t.exports=r.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.d80f4cdf.js.map